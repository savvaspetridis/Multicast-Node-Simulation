<!DOCTYPE html>
<html lang="en" ng-app="app">
	<head>
		<title>Start Simulation</title>
		<script src="http://code.angularjs.org/1.2.2/angular.min.js"> </script>
	</head>

	<body>
		<h1 align = "center"><b>Multicast Simulator</b></h1>	
		<div align = "center" ng-controller= "startController">
			<form action="." method="post"> {% csrf_token %}
				<!--{% verbatim %}--><div class="fieldWrapper" ng-show="showBitRate"><!--{% endverbatim %}-->
					<label for="{{ form.bitRate.id_for_label }}" >Bit Rate:</label>
					{{ form.bitRate }}
				</div>
				<div class="fieldWrapper">
					<label for="{{ form.updateInterval.id_for_label }}">Update Interval:</label>
					{{ form.updateInterval }}
				</div>
				<div class="fieldWrapper">
					<label for="{{ form.fbNodeAlg.id_for_label }}">F.B.N. Algorithm:</label>
					{{ form.fbNodeAlg }}
					<label for="{{ form.fbNodeAlg.id_for_label }}" ng-show="showK">k:</label>
					{{ form.k }}
					<label for="{{ form.fbNodeAlg.id_for_label }}" ng-show="showDistance">Distance (Amuse):</label>
					{{ form.d }}
				</div>
				<div class="fieldWrapper" ng-hide="showBitRate">
					<label for="{{ form.fbNodeAlg.id_for_label }}">H-low Threshold</label>
					{{ form.H}}
					<label for="{{ form.fbNodeAlg.id_for_label }}">Variability of PDR allowed</label>
					{{ form.Delta}}
					<label for="{{ form.fbNodeAlg.id_for_label }}">Window minimum</label>
					{{ form.W_min}}
					<label for="{{ form.fbNodeAlg.id_for_label }}">Window maximum</label>
					{{ form.W_max}}
					<label for="{{ form.fbNodeAlg.id_for_label }}">Time</label>
					{{ form.time}}
					<label for="{{ form.fbNodeAlg.id_for_label }}">Maximum abnormal nodes</label>
					{{ form.A_max}}
					


				</div>
				<div>
						<!--{% verbatim %}--><p> {{k_nodes}} 9 </p>
						{{distance}}<!--{% endverbatim %}-->
					</div>
				<input type="submit" value="Submit" />
				
			</form>
			
		</div>
		<script>
		var app = angular.module('app', []);
		app.controller('startController', ['$scope',
			function($scope)
			{
				$scope.showBitRate = true;
				$scope.showK = false;
				$scope.showDistance = false;
				$scope.algorithms = ['NONE', 'WORST', 'RAND', 'AMUSE'];
				$scope.my ={option : 'NONE'};
				$scope.k_nodes = 0;
				$scope.distance = 0;



				$scope.check = function()
				{
					if($scope.my.option == 'NONE')
					{
						$scope.showBitRate = true;
						//$scope.showK = false;
						//$scope.showDistance = false

					}
					else
					{
						$scope.showBitRate = false;
					}

					if($scope.my.option == 'RAND' || $scope.my.option == 'WORST')
					{
						$scope.showK = true;
						$scope.showDistance = false;
					}
					else
					{
						$scope.showK = false;
					}

					if($scope.my.option == 'AMUSE')
					{
						$scope.showDistance = true;
						//$scope.showK = false;
					}
					else
					{
						$scope.showDistance = false;
					}
				}
			}]);

		</script> 

	</body>
</html>
